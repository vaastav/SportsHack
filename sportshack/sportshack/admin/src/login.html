  <!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="../styles/materialize.min.css"  media="screen,projection"/>
	  <script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>	  
	
      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>

    <body>
<div id = "loginContainer" style="width: 50%; position:absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto;">
    <div class="col m6">
            <h3 class="center-align">Login</h3>
            <div class="row">
                <form class="col s12">
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="email" type="email" placeholder = "Email" class = "validate">
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="pass" type="password" placeholder = "Password" class="validate">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12">
                            <p>
                                <input type="checkbox" id="remember">
                                <label for="remember">Remember me</label>
                            </p>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div class="row">
                    	<div class="col m12">
                            
                                <p id="invalidInput" class = "center-align"></p>
                                <p class="center-align">    
                                <button class="btn btn-large waves-effect waves-light" type="button" onclick = "logUserIn()" name="action">Login</button>                                
                            </p>
                        </div>
                        <div class="col m12">
                            <p class="center-align">
                                <button class="btn btn-large waves-effect waves-light" type="button" onclick="location.href='signup.html';" name="action">Signup</button>
                                
                            </p>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        
        </div>
    
    <!--Import jQuery before materialize.js-->
      <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
      <script type="text/javascript" src="../js/materialize.min.js"></script>

        <script>
        function logUserIn(){
		
        
        //check if input is valid
        var pass = document.getElementById('pass').value;
        var email = document.getElementById('email').value;
                
        var ref = new Firebase("https://sportshack.firebaseio.com/");
		

        ref.authWithPassword({
          email    : email,
          password : pass
        }, function(error, authData) {
          if (error) {
			document.getElementById('invalidInput').innerHTML = "Login Failed Try again";
          } else {
			if (document.getElementById('remember').value = "on"){
			    var d = new Date();
				d.setTime(d.getTime() + (30*24*60*60*1000));
				var expires = "expires="+d.toUTCString();
				document.cookie= "storedUser=" + email +"; " + expires;
				document.cookie= "storedPassword="+ pass +"; " + expires;
			}
			
			else {
			    var d = new Date();
				d.setTime(d.getTime() + (1*24*60*60*1000));
				var expires = "expires="+d.toUTCString();
				document.cookie= "storedUser=" + email +"; " + expires;
				document.cookie= "storedPassword="+ pass +"; " + expires;			
			}
			
				window.location.href = 'home.html';		
          }
        });
        //check if they wanted to save the data 
      }
      </script>


    </body>
  </html>
